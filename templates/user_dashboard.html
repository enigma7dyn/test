{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body class="dashboard-body">
    <div class="header">
        <div class="welcome">
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.username }}! üë§
        </div>
        <div class="header-actions">
            <a href="{% url 'favorites_list' %}" class="btn-small btn-secondary">‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
            <a href="{% url 'add_book' %}" class="btn-small btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</a>
            <a href="{% url 'index' %}" class="logout-btn">–í—ã–π—Ç–∏</a>
        </div>
    </div>
    
    {% if messages %}
        {% for message in messages %}
            <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    
    <div class="books-container">
        {% if books %}
            <div class="books-grid">
                {% for book in books %}
                    <div class="book-card">
                        <div class="book-cover">
                            <div class="cover-placeholder">üìñ</div>
                        </div>
                        <div class="book-info">
                            <h3 class="book-title">{{ book.title }}</h3>
                            <div class="book-author">{{ book.author }}</div>
                            <div class="book-date">{{ book.published_date }}</div>
                            <div class="book-rating">
                                <span class="rating-stars">
                                    {% if book.average_rating >= 1 %}‚≠ê{% endif %}
                                    {% if book.average_rating >= 2 %}‚≠ê{% endif %}
                                    {% if book.average_rating >= 3 %}‚≠ê{% endif %}
                                    {% if book.average_rating >= 4 %}‚≠ê{% endif %}
                                    {% if book.average_rating >= 5 %}‚≠ê{% endif %}
                                </span>
                                <span class="rating-text">{{ book.average_rating|floatformat:1 }}/5.0</span>
                            </div>
                            <div class="book-reviews">–†–µ—Ü–µ–Ω–∑–∏–π: {{ book.reviews.count }}</div>
                        </div>
                        <div class="book-actions">
                            <a href="{% url 'book_detail' book.id %}" class="btn-small btn-primary">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</a>
                            <a href="{% url 'add_to_favorites' book.id %}" class="btn-small btn-secondary">‚ù§Ô∏è –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <div class="empty-icon">üìö</div>
                <h2>–ö–Ω–∏–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h2>
                <p>–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–Ω–∏–≥.</p>
                <a href="{% url 'add_book' %}" class="btn btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –∫–Ω–∏–≥—É</a>
            </div>
        {% endif %}
    </div>
</body>
</html> 