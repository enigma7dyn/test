{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏ - Book Review API</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body class="dashboard-body">
    <div class="header">
        <div class="welcome">
            ‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏
        </div>
        <div class="header-actions">
            <a href="{% url 'add_book' %}" class="btn-small btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</a>
            <a href="{% url 'user_dashboard' %}" class="btn-small btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
            <a href="{% url 'index' %}" class="logout-btn">–í—ã–π—Ç–∏</a>
        </div>
    </div>
    
    {% if messages %}
        {% for message in messages %}
            <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    
    <div class="books-container">
        {% if books %}
            <div class="books-grid">
                {% for book in books %}
                    <div class="book-card">
                        <div class="book-cover">
                            <div class="cover-placeholder">üìñ</div>
                        </div>
                        <div class="book-info">
                            <h3 class="book-title">{{ book.title }}</h3>
                            <div class="book-author">{{ book.author }}</div>
                            <div class="book-date">{{ book.published_date }}</div>
                            <div class="book-rating">
                                <span class="rating-stars">
                                    {% if book.average_rating >= 1 %}‚≠ê{% endif %}
                                    {% if book.average_rating >= 2 %}‚≠ê{% endif %}
                                    {% if book.average_rating >= 3 %}‚≠ê{% endif %}
                                    {% if book.average_rating >= 4 %}‚≠ê{% endif %}
                                    {% if book.average_rating >= 5 %}‚≠ê{% endif %}
                                </span>
                                <span class="rating-text">{{ book.average_rating|floatformat:1 }}/5.0</span>
                            </div>
                            <div class="book-reviews">–†–µ—Ü–µ–Ω–∑–∏–π: {{ book.reviews.count }}</div>
                        </div>
                        <div class="book-actions">
                            <a href="{% url 'book_detail' book.id %}" class="btn-small btn-primary">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</a>
                            <a href="{% url 'remove_from_favorites' book.id %}" class="btn-small btn-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ?')">‚ù§Ô∏è –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <div class="empty-icon">‚ù§Ô∏è</div>
                <h2>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∫–Ω–∏–≥</h2>
                <p>–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–Ω–∏–≥–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏—Ö –ø–æ–∑–∂–µ!</p>
                <a href="{% url 'user_dashboard' %}" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∫–Ω–∏–≥–∞–º</a>
            </div>
        {% endif %}
    </div>
</body>
</html> 